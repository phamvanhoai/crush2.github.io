<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code T√¨nh Y√™u D√†nh Cho Em</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    body {
      margin: 0;
      background: linear-gradient(135deg, #1e1b4b 0%, #2e1065 100%);
      color: #e2e8f0;
      font-family: 'Courier New', monospace;
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      position: relative;
      z-index: 10;
      max-width: 800px;
      padding: 2rem;
    }
    #code-rain {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: rgba(0, 0, 0, 0.7);
    }
    .code-line {
      opacity: 0;
      color: #f472b6;
      font-size: 1.2rem;
      margin: 0.5rem 0;
      white-space: pre;
    }
    .comment {
      color: #6b7280;
    }
    .keyword {
      color: #f472b6;
      font-weight: bold;
    }
    .string {
      color: #a5b4fc;
    }
    .btn-glow {
      background: linear-gradient(45deg, #db2777, #f472b6);
      box-shadow: 0 0 20px rgba(244, 114, 182, 0.6);
      transition: all 0.3s ease;
    }
    .btn-glow:hover {
      box-shadow: 0 0 40px rgba(244, 114, 182, 0.9);
      transform: scale(1.1) rotate(3deg);
    }
    .btn-secondary {
      background: linear-gradient(45deg, #334155, #475569);
      box-shadow: 0 0 20px rgba(71, 85, 105, 0.6);
    }
    .btn-secondary:hover {
      box-shadow: 0 0 40px rgba(71, 85, 105, 0.9);
      transform: scale(1.1) rotate(-3deg);
    }
    #popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #1e293b;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 50px rgba(244, 114, 182, 0.5);
      text-align: center;
      z-index: 100;
    }
    #popup.show {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="code-rain"></canvas>
  <div class="container mx-auto text-center">
    <div id="code-editor" class="bg-gray-900 bg-opacity-80 p-8 rounded-xl shadow-2xl">
      <div id="code-lines">
        <p class="code-line"><span class="comment">// T√¢m th∆∞ c·ªßa m·ªôt l·∫≠p tr√¨nh vi√™n d√†nh cho em</span></p>
        <p class="code-line"><span class="keyword">class</span> MyHeart {</p>
        <p class="code-line">  <span class="keyword">constructor</span>() {</p>
        <p class="code-line">    this.feelings = <span class="string">"Em l√† bug duy nh·∫•t anh kh√¥ng mu·ªën fix."</span>;</p>
        <p class="code-line">    this.promise = <span class="string">"M·ªói d√≤ng code anh vi·∫øt, ƒë·ªÅu v√¨ em."</span>;</p>
        <p class="code-line">  }</p>
        <p class="code-line"></p>
        <p class="code-line">  <span class="keyword">async</span> confess() {</p>
        <p class="code-line">    <span class="keyword">try</span> {</p>
        <p class="code-line">      <span class="keyword">let</span> you = <span class="string">"ng∆∞·ªùi khi·∫øn tr√°i tim anh compile m√£i kh√¥ng l·ªói"</span>;</p>
        <p class="code-line">      <span class="keyword">let</span> future = <span class="string">"c√πng em, anh mu·ªën build c·∫£ th·∫ø gi·ªõi"</span>;</p>
        <p class="code-line">      <span class="keyword">return</span> <span class="string">"Em, l√†m ng∆∞·ªùi y√™u anh nh√©?"</span>;</p>
        <p class="code-line">    } <span class="keyword">catch</span> (rejection) {</p>
        <p class="code-line">      <span class="keyword">return</span> <span class="string">"Anh s·∫Ω ch·ªù, nh∆∞ m·ªôt loop v√¥ h·∫°n."</span>;</p>
        <p class="code-line">    }</p>
        <p class="code-line">  }</p>
        <p class="code-line">}</p>
      </div>
      <div class="mt-8 flex justify-center space-x-6">
        <button id="acceptBtn" class="btn-glow text-white font-bold py-3 px-8 rounded-full">Run Code T√¨nh Y√™u</button>
        <button id="thinkBtn" class="btn-secondary text-white font-bold py-3 px-8 rounded-full">Debug Sau Nh√©</button>
      </div>
      <div id="response" class="mt-8 text-xl text-pink-300"></div>
    </div>
  </div>
  <div id="popup">
    <h2 class="text-2xl font-bold text-pink-300 mb-4">Code Compile Th√†nh C√¥ng! üéâ</h2>
    <p class="text-lg">Em ƒë√£ ch·∫°y h√†m <code>acceptLove()</code> trong tr√°i tim anh.</p>
    <p class="text-lg">H·∫πn em ·ªü <code>commit</code> ƒë·∫ßu ti√™n c·ªßa ch√∫ng m√¨nh nh√©! üòò</p>
    <button id="closePopup" class="mt-6 bg-pink-600 text-white py-2 px-6 rounded-full hover:bg-pink-700">ƒê√≥ng</button>
  </div>

  <script>
    // Code rain effect
    const canvas = document.getElementById('code-rain');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const chars = '01<3{}()[]#EmAnhYeuthuong';
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function draw() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#f472b6';
      ctx.font = `${fontSize}px monospace`;

      for (let i = 0; i < drops.length; i++) {
        const text = chars.charAt(Math.floor(Math.random() * chars.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }
    setInterval(draw, 33);

    // Animate code lines with GSAP
    const codeLines = document.querySelectorAll('.code-line');
    codeLines.forEach((line, index) => {
      gsap.to(line, {
        opacity: 1,
        duration: 0.5,
        delay: index * 0.2,
        ease: 'power2.out'
      });
    });

    // Button interactions
    const acceptBtn = document.getElementById('acceptBtn');
    const thinkBtn = document.getElementById('thinkBtn');
    const responseDiv = document.getElementById('response');
    const popup = document.getElementById('popup');
    const closePopup = document.getElementById('closePopup');

    acceptBtn.addEventListener('click', () => {
      responseDiv.innerHTML = `<p class="animate-pulse">> Compiling love... Success! üòç</p>`;
      gsap.to(popup, {
        display: 'block',
        scale: 1,
        opacity: 1,
        duration: 0.5,
        ease: 'back.out'
      });
    });

    thinkBtn.addEventListener('click', () => {
      responseDiv.innerHTML = `<p>> Code paused... Anh s·∫Ω ch·ªù em nh∆∞ m·ªôt <code>setInterval</code> kh√¥ng bao gi·ªù clear! üòä</p>`;
      popup.style.display = 'none';
    });

    closePopup.addEventListener('click', () => {
      gsap.to(popup, {
        scale: 0.8,
        opacity: 0,
        duration: 0.3,
        onComplete: () => popup.style.display = 'none'
      });
    });

    // Responsive canvas
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>